<%= form_with(model: order, local: true) do |form| %>
  <% if order.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>

      <ul>
        <% order.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="row">
    <div class="col-6">
      <%= render 'form/date_select', form: form, column: :datum %>

      <%= render 'form/text_field', form: form, column: :label %>

      <%= render 'form/select', form: form, column: :customer_id, options_var: options_from_collection_for_select(Customer.all, 'id', 'name', @order.customer_id) %>

      <%= render 'form/select', form: form, column: :origin_id, options_var: options_from_collection_for_select(Customer.all, 'id', 'name', @order.origin_id) %>

      <%= render 'form/select', form: form, column: :destination_id, options_var: options_from_collection_for_select(Customer.all, 'id', 'name', @order.destination_id) %>

      <%= render 'form/check_box', form: form, column: :fix_price %>

      <%= render 'form/text_field', form: form, column: :distance %>

      <%= render 'form/text_field', form: form, column: :price_per_km %>

      <%= render 'form/text_field', form: form, column: :price %>
    </div>
    <div class="col-6">
      <%= render 'form/number_field', form: form, column: :vat_percentage %>

      <%= render 'form/select', form: form, column: :currency, options_var: options_for_select(%w[Kč €], @order.currency) %>

      <%= render 'form/text_field', form: form, column: :load_type %>

      <%= render 'form/text_field', form: form, column: :load_description %>

      <%= render 'form/text_field', form: form, column: :load_capacity %>

      <%= render 'form/text_field', form: form, column: :load_volume %>

      <%= render 'form/select', form: form, column: :car_id, options_var: options_from_collection_for_select(Car.active.all, 'id', 'name', @order.car_id) %>
      <br/>
      <br/>
      <%= render 'form/check_box', form: form, column: :finished %>
    </div>
  </div>

  <div class="actions">
    <%= form.button 'Uložit' %>
  </div>
<% end %>
